<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"   
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      xmlns:c="http://java.sun.com/jsp/jstl/core"
      >
    <h:body>	
    	<ui:composition template="WEB-INF/template/pageTemplate.xhtml">
    		<ui:define name="content">
				<div class="pages-wrapper">
					<div class="produclist">
    				<ui:repeat rendered="#{not empty productBean.category.products}" var="product" value="#{productBean.getProductsByCategory()}">
    				<ul class="product">			
    					<li>
    						<h:graphicImage rendered="#{not empty product.image_url}" value="#{product.image_url}" height="120" width="120" alt="#{product.name}"></h:graphicImage>
    						<h:graphicImage rendered="#{empty product.image_url}" value="img/product/no-image-available.png" height="120" width="120" alt="#{product.name}"></h:graphicImage>									
    						<p class="name"><b>#{product.name}</b></p>
    						<p class="price">$#{product.price}</p>
    						<h:form><h:commandButton class="addtocartbutton" id="addtocart" value="Add To Cart" action="#{cartBean.addProduct(product)}"></h:commandButton></h:form>
    					</li>
    				</ul>
    				</ui:repeat>
    				
    				</div>
    				
    			</div>
			</ui:define>
    	</ui:composition>   	
    </h:body>

</html>